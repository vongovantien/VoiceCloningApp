Metadata-Version: 2.4
Name: f5-tts
Version: 1.0.1
Summary: F5-TTS: A Fairytaler that Fakes Fluent and Faithful Speech with Flow Matching
License: MIT License
Project-URL: Homepage, https://github.com/SWivid/F5-TTS
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: accelerate>=0.33.0
Requires-Dist: bitsandbytes>0.37.0; platform_machine != "arm64" and platform_system != "Darwin"
Requires-Dist: cached_path
Requires-Dist: click
Requires-Dist: datasets
Requires-Dist: ema_pytorch>=0.5.2
Requires-Dist: gradio>=3.45.2
Requires-Dist: hydra-core>=1.3.0
Requires-Dist: jieba
Requires-Dist: librosa
Requires-Dist: matplotlib
Requires-Dist: numpy<=1.26.4
Requires-Dist: pydub
Requires-Dist: pypinyin
Requires-Dist: safetensors
Requires-Dist: soundfile
Requires-Dist: tomli
Requires-Dist: torch>=2.0.0
Requires-Dist: torchaudio>=2.0.0
Requires-Dist: torchdiffeq
Requires-Dist: tqdm>=4.65.0
Requires-Dist: transformers
Requires-Dist: transformers_stream_generator
Requires-Dist: vocos
Requires-Dist: wandb
Requires-Dist: x_transformers>=1.31.14
Provides-Extra: eval
Requires-Dist: faster_whisper==0.10.1; extra == "eval"
Requires-Dist: funasr; extra == "eval"
Requires-Dist: jiwer; extra == "eval"
Requires-Dist: modelscope; extra == "eval"
Requires-Dist: zhconv; extra == "eval"
Requires-Dist: zhon; extra == "eval"
Dynamic: license-file

# ğŸ™ï¸ Vietnamese Voice Cloning App

<p align="center">
  <img src="tests/ui_screenshot.png" alt="Voice Cloning App UI" width="800">
</p>

<p align="center">
  <img src="tests/f5-tts.png" alt="F5-TTS Architecture" width="600">
</p>

<p align="center">
  <strong>á»¨ng dá»¥ng nhÃ¢n báº£n giá»ng nÃ³i tiáº¿ng Viá»‡t sá»­ dá»¥ng F5-TTS</strong>
</p>

<p align="center">
  <a href="#tÃ­nh-nÄƒng">TÃ­nh nÄƒng</a> â€¢
  <a href="#demo">Demo</a> â€¢
  <a href="#cÃ i-Ä‘áº·t">CÃ i Ä‘áº·t</a> â€¢
  <a href="#sá»­-dá»¥ng">Sá»­ dá»¥ng</a> â€¢
  <a href="#fine-tuning">Fine-tuning</a>
</p>

---

## âœ¨ TÃ­nh nÄƒng

- ğŸ—£ï¸ **NhÃ¢n báº£n giá»ng nÃ³i** - Clone báº¥t ká»³ giá»ng nÃ³i nÃ o chá»‰ vá»›i vÃ i giÃ¢y audio máº«u
- ğŸ‡»ğŸ‡³ **Tá»‘i Æ°u cho tiáº¿ng Viá»‡t** - Model Ä‘Æ°á»£c fine-tune Ä‘áº·c biá»‡t cho tiáº¿ng Viá»‡t
- ğŸŒ **Giao diá»‡n Web** - UI Ä‘áº¹p máº¯t, dá»… sá»­ dá»¥ng vá»›i Flask
- ğŸ¤ **Ghi Ã¢m trá»±c tiáº¿p** - Ghi Ã¢m giá»ng máº«u ngay trÃªn trÃ¬nh duyá»‡t
- ğŸ“Š **Mel Spectrogram** - Hiá»ƒn thá»‹ spectrogram cá»§a audio Ä‘Æ°á»£c táº¡o
- ğŸ“œ **Lá»‹ch sá»­** - LÆ°u trá»¯ vÃ  quáº£n lÃ½ cÃ¡c audio Ä‘Ã£ táº¡o
- âš¡ **GPU Acceleration** - Há»— trá»£ CUDA cho tá»‘c Ä‘á»™ inference nhanh

## ğŸš€ Demo

Thá»­ nghiá»‡m online táº¡i: **[Hugging Face Space](https://huggingface.co/spaces/hynt/F5-TTS-Vietnamese-100h)**

## ğŸ“‹ YÃªu cáº§u há»‡ thá»‘ng

- Python 3.10+
- CUDA 11.8+ (recommended) hoáº·c CPU
- RAM: 8GB+ (16GB recommended)
- VRAM: 6GB+ (cho GPU inference)

## ğŸ”§ CÃ i Ä‘áº·t

### 1. Clone repository

```bash
git clone https://github.com/your-username/VoiceCloningApp.git
cd VoiceCloningApp
```

### 2. Táº¡o mÃ´i trÆ°á»ng áº£o

```bash
# Sá»­ dá»¥ng Conda
conda create -n voice-cloning python=3.10
conda activate voice-cloning

# Hoáº·c sá»­ dá»¥ng venv
python -m venv venv
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate     # Windows
```

### 3. CÃ i Ä‘áº·t PyTorch

```bash
# Vá»›i CUDA 12.4
pip install torch==2.4.0+cu124 torchaudio==2.4.0+cu124 --extra-index-url https://download.pytorch.org/whl/cu124

# Vá»›i CUDA 11.8
pip install torch==2.4.0+cu118 torchaudio==2.4.0+cu118 --extra-index-url https://download.pytorch.org/whl/cu118

# CPU only
pip install torch==2.4.0 torchaudio==2.4.0
```

### 4. CÃ i Ä‘áº·t F5-TTS module

```bash
pip install -e .
```

### 5. CÃ i Ä‘áº·t dependencies bá»• sung (Linux)

```bash
sudo apt-get update
sudo apt-get install sox ffmpeg
```

### 6. Táº£i model checkpoint

Äáº·t cÃ¡c file sau vÃ o thÆ° má»¥c tÆ°Æ¡ng á»©ng:
- Checkpoint model: `ckpts/your_training_dataset/model_last.pt`
- Vocab file: `data/Emilia_ZH_EN_pinyin/vocab.txt`

## ğŸ–¥ï¸ Sá»­ dá»¥ng

### Cháº¡y Web Server

```bash
python app.py
```

Má»Ÿ trÃ¬nh duyá»‡t vÃ  truy cáº­p: **http://localhost:5000**

### CÃ¡c bÆ°á»›c táº¡o audio

1. **Chá»n giá»ng máº«u** - Chá»n tá»« cÃ¡c giá»ng cÃ³ sáºµn hoáº·c upload audio tÃ¹y chá»‰nh
2. **Nháº­p vÄƒn báº£n** - Nháº­p ná»™i dung cáº§n chuyá»ƒn thÃ nh giá»ng nÃ³i
3. **Táº¡o Audio** - Nháº¥n nÃºt "Táº¡o Audio" vÃ  Ä‘á»£i káº¿t quáº£
4. **Táº£i xuá»‘ng** - Nghe thá»­ vÃ  táº£i audio vá» mÃ¡y

### CLI Inference

```bash
bash infer.sh
```

Hoáº·c sá»­ dá»¥ng trá»±c tiáº¿p:

```bash
f5-tts_infer-cli \
    --model F5TTS_Base \
    --ckpt_file ckpts/your_training_dataset/model_last.pt \
    --vocab_file data/Emilia_ZH_EN_pinyin/vocab.txt \
    --ref_audio ref.wav \
    --ref_text "Text cá»§a audio tham chiáº¿u" \
    --gen_text "Text cáº§n táº¡o giá»ng nÃ³i"
```

## ğŸ“ Fine-tuning

### YÃªu cáº§u dá»¯ liá»‡u

- **100+ giá»** audio vá»›i transcript chÃ­nh xÃ¡c (cho giá»ng cá»¥ thá»ƒ)
- **1000+ giá»** audio (cho voice cloning Ä‘a dáº¡ng speakers)

### CÃ¡c bÆ°á»›c fine-tune

1. Chuáº©n bá»‹ `audio_name` vÃ  transcriptions tÆ°Æ¡ng á»©ng
2. ThÃªm vocabulary má»›i vÃ o pretrained model
3. Má»Ÿ rá»™ng embedding Ä‘á»ƒ há»— trá»£ vocabulary má»›i
4. Thá»±c hiá»‡n feature extraction
5. Fine-tune model

```bash
bash fine_tuning.sh
```

### ğŸ’¡ Tips

**Training:**
- Dá»¯ liá»‡u vá»›i transcript chÃ­nh xÃ¡c ráº¥t quan trá»ng - cÃ ng nhiá»u cÃ ng tá»‘t
- Äiá»u nÃ y giÃºp model generalize tá»‘t hÆ¡n, giáº£m WER vÃ  hallucinations

**Inference:**
- Chá»n audio máº«u rÃµ rÃ ng, Ã­t táº¡p Ã¢m, dÆ°á»›i 10 giÃ¢y
- Cung cáº¥p reference text chÃ­nh xÃ¡c Ä‘á»ƒ cÃ³ cháº¥t lÆ°á»£ng tá»‘t nháº¥t
- Vá»›i Ä‘oáº¡n vÄƒn dÃ i, sá»­ dá»¥ng hÃ m `chunk_text` tÃ¹y chá»‰nh trong `src/f5_tts/infer/utils_infer.py`

## ğŸ“ Cáº¥u trÃºc thÆ° má»¥c

```
VoiceCloningApp/
â”œâ”€â”€ app.py                 # Flask web server
â”œâ”€â”€ templates/             # HTML templates
â”‚   â””â”€â”€ index.html
â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ css/style.css     # Styles
â”‚   â”œâ”€â”€ js/script.js      # Frontend logic
â”‚   â”œâ”€â”€ voices/           # Voice samples
â”‚   â””â”€â”€ output/           # Generated audio files
â”œâ”€â”€ src/f5_tts/           # F5-TTS source code
â”‚   â”œâ”€â”€ infer/            # Inference utilities
â”‚   â”œâ”€â”€ train/            # Training scripts
â”‚   â””â”€â”€ model/            # Model architecture
â”œâ”€â”€ ckpts/                # Model checkpoints
â”œâ”€â”€ data/                 # Vocab and data files
â””â”€â”€ fine_tuning.sh        # Fine-tuning script
```

## ğŸ³ Docker

```bash
docker build -t voice-cloning .
docker run -p 5000:5000 --gpus all voice-cloning
```

## ğŸ“Š API Endpoints

| Endpoint | Method | MÃ´ táº£ |
|----------|--------|-------|
| `/` | GET/POST | Trang chÃ­nh & táº¡o audio |
| `/health` | GET | Kiá»ƒm tra tráº¡ng thÃ¡i server |
| `/models/status` | GET | Tráº¡ng thÃ¡i cÃ¡c model |
| `/models/unload` | POST | Giáº£i phÃ³ng VRAM |
| `/api/history` | GET | Láº¥y lá»‹ch sá»­ audio |
| `/api/history/<id>` | DELETE | XÃ³a audio khá»i lá»‹ch sá»­ |
| `/cleanup` | POST | Dá»n dáº¹p file cÅ© |

## ğŸ”— Tham kháº£o

- [F5-TTS Original Repository](https://github.com/SWivid/F5-TTS)
- [Hugging Face Demo](https://huggingface.co/spaces/hynt/F5-TTS-Vietnamese-100h)

## ğŸ“„ License

MIT License - Xem file [LICENSE](LICENSE) Ä‘á»ƒ biáº¿t thÃªm chi tiáº¿t.

---

<p align="center">
  Made with â¤ï¸ for Vietnamese Speech Synthesis
</p>
